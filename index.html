<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juegos M√≥viles</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px 10px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .games-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .game-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .game-card:active {
            transform: scale(0.98);
        }

        .game-card:hover {
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .game-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .game-description {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .play-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .play-button:active {
            transform: scale(0.95);
        }

        .game-area {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: none;
        }

        .game-area.active {
            display: block;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .back-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }

        .score {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        canvas {
            border: 2px solid #667eea;
            border-radius: 10px;
            width: 100%;
            touch-action: none;
        }

        .game-controls {
            margin-top: 15px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .control-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.5em;
            cursor: pointer;
            user-select: none;
        }

        .control-button:active {
            background: #5568d3;
        }

        .ttt-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .ttt-cell {
            aspect-ratio: 1;
            background: #f0f0f0;
            border: 2px solid #667eea;
            border-radius: 10px;
            font-size: 2em;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ttt-cell:active {
            background: #e0e0e0;
        }

        .reset-button {
            background: #51cf66;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            margin-top: 10px;
        }

        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            font-size: 2em;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: transparent;
            transition: transform 0.3s;
        }

        .memory-card.flipped {
            background: white;
            border: 2px solid #667eea;
            color: #333;
        }

        .memory-card.matched {
            background: #51cf66;
            color: white;
            cursor: default;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ Juegos M√≥viles</h1>
            <p class="subtitle">Selecciona un juego para comenzar</p>
        </header>

        <div class="games-grid" id="gamesList">
            <div class="game-card" onclick="showGame('snake')">
                <div class="game-title">üêç Snake</div>
                <div class="game-description">Cl√°sico juego de la serpiente. ¬°Come y crece!</div>
                <button class="play-button">Jugar</button>
            </div>

            <div class="game-card" onclick="showGame('tictactoe')">
                <div class="game-title">‚ùå‚≠ï Tres en Raya</div>
                <div class="game-description">Juega contra la IA en este cl√°sico juego</div>
                <button class="play-button">Jugar</button>
            </div>

            <div class="game-card" onclick="showGame('memory')">
                <div class="game-title">üß† Memoria</div>
                <div class="game-description">Encuentra todas las parejas de emojis</div>
                <button class="play-button">Jugar</button>
            </div>

            <div class="game-card" onclick="showGame('pong')">
                <div class="game-title">üèì Pong</div>
                <div class="game-description">Cl√°sico juego de ping-pong</div>
                <button class="play-button">Jugar</button>
            </div>

            <div class="game-card" onclick="showGame('flappy')">
                <div class="game-title">üê¶ Flappy Bird</div>
                <div class="game-description">Toca para volar y evita los obst√°culos</div>
                <button class="play-button">Jugar</button>
            </div>
        </div>

        <!-- Snake Game -->
        <div class="game-area" id="snakeGame">
            <div class="game-header">
                <button class="back-button" onclick="backToMenu()">‚Üê Volver</button>
                <div class="score">Puntos: <span id="snakeScore">0</span></div>
            </div>
            <canvas id="snakeCanvas" width="300" height="300"></canvas>
            <div class="game-controls">
                <div></div>
                <button class="control-button" onclick="changeDirection('UP')">‚Üë</button>
                <div></div>
                <button class="control-button" onclick="changeDirection('LEFT')">‚Üê</button>
                <button class="reset-button" onclick="resetSnake()">Reiniciar</button>
                <button class="control-button" onclick="changeDirection('RIGHT')">‚Üí</button>
                <div></div>
                <button class="control-button" onclick="changeDirection('DOWN')">‚Üì</button>
                <div></div>
            </div>
        </div>

        <!-- Tic Tac Toe Game -->
        <div class="game-area" id="tictactoeGame">
            <div class="game-header">
                <button class="back-button" onclick="backToMenu()">‚Üê Volver</button>
                <div class="score" id="tttStatus">Tu turno</div>
            </div>
            <div class="ttt-board" id="tttBoard"></div>
            <button class="reset-button" onclick="resetTicTacToe()">Nueva Partida</button>
        </div>

        <!-- Memory Game -->
        <div class="game-area" id="memoryGame">
            <div class="game-header">
                <button class="back-button" onclick="backToMenu()">‚Üê Volver</button>
                <div class="score">Movimientos: <span id="memoryMoves">0</span></div>
            </div>
            <div class="memory-grid" id="memoryGrid"></div>
            <button class="reset-button" onclick="resetMemory()">Reiniciar</button>
        </div>

        <!-- Pong Game -->
        <div class="game-area" id="pongGame">
            <div class="game-header">
                <button class="back-button" onclick="backToMenu()">‚Üê Volver</button>
                <div class="score">Puntos: <span id="pongScore">0</span></div>
            </div>
            <canvas id="pongCanvas" width="300" height="400"></canvas>
        </div>

        <!-- Flappy Bird Game -->
        <div class="game-area" id="flappyGame">
            <div class="game-header">
                <button class="back-button" onclick="backToMenu()">‚Üê Volver</button>
                <div class="score">Puntos: <span id="flappyScore">0</span></div>
            </div>
            <canvas id="flappyCanvas" width="300" height="400"></canvas>
            <button class="reset-button" onclick="resetFlappy()" style="margin-top: 10px;">Reiniciar</button>
        </div>
    </div>

    <script>
        let currentGame = null;

        function showGame(game) {
            document.getElementById('gamesList').style.display = 'none';
            document.getElementById(game + 'Game').classList.add('active');
            currentGame = game;

            if (game === 'snake') startSnake();
            else if (game === 'tictactoe') startTicTacToe();
            else if (game === 'memory') startMemory();
            else if (game === 'pong') startPong();
            else if (game === 'flappy') startFlappy();
        }

        function backToMenu() {
            document.querySelectorAll('.game-area').forEach(area => {
                area.classList.remove('active');
            });
            document.getElementById('gamesList').style.display = 'grid';
            currentGame = null;
        }

        // ========== SNAKE GAME ==========
        let snake, direction, nextDirection, food, snakeScore, snakeInterval;

        function startSnake() {
            resetSnake();
        }

        function resetSnake() {
            snake = [{x: 5, y: 5}];
            direction = {x: 1, y: 0};
            nextDirection = {x: 1, y: 0};
            snakeScore = 0;
            document.getElementById('snakeScore').textContent = snakeScore;
            placeFood();
            
            if (snakeInterval) clearInterval(snakeInterval);
            snakeInterval = setInterval(updateSnake, 150);
        }

        function placeFood() {
            food = {
                x: Math.floor(Math.random() * 15),
                y: Math.floor(Math.random() * 15)
            };
        }

        function changeDirection(dir) {
            if (dir === 'UP' && direction.y === 0) nextDirection = {x: 0, y: -1};
            else if (dir === 'DOWN' && direction.y === 0) nextDirection = {x: 0, y: 1};
            else if (dir === 'LEFT' && direction.x === 0) nextDirection = {x: -1, y: 0};
            else if (dir === 'RIGHT' && direction.x === 0) nextDirection = {x: 1, y: 0};
        }

        function updateSnake() {
            direction = nextDirection;
            const head = {x: snake[0].x + direction.x, y: snake[0].y + direction.y};

            if (head.x < 0 || head.x >= 15 || head.y < 0 || head.y >= 15 || 
                snake.some(s => s.x === head.x && s.y === head.y)) {
                clearInterval(snakeInterval);
                alert('Game Over! Puntuaci√≥n: ' + snakeScore);
                return;
            }

            snake.unshift(head);

            if (head.x === food.x && head.y === food.y) {
                snakeScore += 10;
                document.getElementById('snakeScore').textContent = snakeScore;
                placeFood();
            } else {
                snake.pop();
            }

            drawSnake();
        }

        function drawSnake() {
            const canvas = document.getElementById('snakeCanvas');
            const ctx = canvas.getContext('2d');
            const cellSize = 20;

            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#51cf66';
            snake.forEach(segment => {
                ctx.fillRect(segment.x * cellSize, segment.y * cellSize, cellSize - 2, cellSize - 2);
            });

            ctx.fillStyle = '#ff6b6b';
            ctx.fillRect(food.x * cellSize, food.y * cellSize, cellSize - 2, cellSize - 2);
        }

        // ========== TIC TAC TOE GAME ==========
        let tttBoard, tttCurrentPlayer;

        function startTicTacToe() {
            resetTicTacToe();
        }

        function resetTicTacToe() {
            tttBoard = Array(9).fill('');
            tttCurrentPlayer = 'X';
            document.getElementById('tttStatus').textContent = 'Tu turno';
            
            const boardElement = document.getElementById('tttBoard');
            boardElement.innerHTML = '';
            
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.className = 'ttt-cell';
                cell.onclick = () => tttMove(i);
                boardElement.appendChild(cell);
            }
        }

        function tttMove(index) {
            if (tttBoard[index] !== '' || tttCurrentPlayer !== 'X') return;
            
            tttBoard[index] = 'X';
            updateTTTBoard();
            
            if (checkTTTWinner('X')) {
                document.getElementById('tttStatus').textContent = '¬°Ganaste!';
                return;
            }
            
            if (!tttBoard.includes('')) {
                document.getElementById('tttStatus').textContent = 'Empate';
                return;
            }
            
            tttCurrentPlayer = 'O';
            document.getElementById('tttStatus').textContent = 'Turno IA...';
            
            setTimeout(() => {
                tttAIMove();
            }, 500);
        }

        function tttAIMove() {
            const available = tttBoard.map((v, i) => v === '' ? i : null).filter(v => v !== null);
            const move = available[Math.floor(Math.random() * available.length)];
            
            tttBoard[move] = 'O';
            updateTTTBoard();
            
            if (checkTTTWinner('O')) {
                document.getElementById('tttStatus').textContent = 'IA gana';
                return;
            }
            
            if (!tttBoard.includes('')) {
                document.getElementById('tttStatus').textContent = 'Empate';
                return;
            }
            
            tttCurrentPlayer = 'X';
            document.getElementById('tttStatus').textContent = 'Tu turno';
        }

        function updateTTTBoard() {
            const cells = document.getElementById('tttBoard').children;
            tttBoard.forEach((value, i) => {
                cells[i].textContent = value;
                cells[i].style.color = value === 'X' ? '#667eea' : '#ff6b6b';
            });
        }

        function checkTTTWinner(player) {
            const wins = [
                [0,1,2], [3,4,5], [6,7,8],
                [0,3,6], [1,4,7], [2,5,8],
                [0,4,8], [2,4,6]
            ];
            return wins.some(combo => 
                combo.every(i => tttBoard[i] === player)
            );
        }

        // ========== MEMORY GAME ==========
        let memoryCards, memoryFlipped, memoryMatched, memoryMoves;

        function startMemory() {
            resetMemory();
        }

        function resetMemory() {
            const emojis = ['üéÆ', 'üéØ', 'üé≤', 'üé™', 'üé®', 'üé≠', 'üé¨', 'üé§'];
            memoryCards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
            memoryFlipped = [];
            memoryMatched = [];
            memoryMoves = 0;
            document.getElementById('memoryMoves').textContent = memoryMoves;
            
            const grid = document.getElementById('memoryGrid');
            grid.innerHTML = '';
            
            memoryCards.forEach((emoji, i) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = i;
                card.textContent = emoji;
                card.onclick = () => flipMemoryCard(i);
                grid.appendChild(card);
            });
        }

        function flipMemoryCard(index) {
            if (memoryFlipped.length === 2 || memoryFlipped.includes(index) || 
                memoryMatched.includes(index)) return;
            
            const cards = document.getElementById('memoryGrid').children;
            cards[index].classList.add('flipped');
            memoryFlipped.push(index);
            
            if (memoryFlipped.length === 2) {
                memoryMoves++;
                document.getElementById('memoryMoves').textContent = memoryMoves;
                
                setTimeout(() => {
                    const [first, second] = memoryFlipped;
                    if (memoryCards[first] === memoryCards[second]) {
                        cards[first].classList.add('matched');
                        cards[second].classList.add('matched');
                        memoryMatched.push(first, second);
                        
                        if (memoryMatched.length === memoryCards.length) {
                            setTimeout(() => {
                                alert('¬°Ganaste! Movimientos: ' + memoryMoves);
                            }, 500);
                        }
                    } else {
                        cards[first].classList.remove('flipped');
                        cards[second].classList.remove('flipped');
                    }
                    memoryFlipped = [];
                }, 800);
            }
        }

        // ========== PONG GAME ==========
        let pongPaddle, pongBall, pongScore, pongInterval;

        function startPong() {
            resetPong();
        }

        function resetPong() {
            const canvas = document.getElementById('pongCanvas');
            pongPaddle = {x: 125, y: 360, width: 50, height: 10};
            pongBall = {x: 150, y: 200, dx: 3, dy: 3, radius: 5};
            pongScore = 0;
            document.getElementById('pongScore').textContent = pongScore;
            
            canvas.ontouchmove = (e) => {
                e.preventDefault();
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                pongPaddle.x = (touch.clientX - rect.left) - pongPaddle.width / 2;
                pongPaddle.x = Math.max(0, Math.min(canvas.width - pongPaddle.width, pongPaddle.x));
            };
            
            if (pongInterval) clearInterval(pongInterval);
            pongInterval = setInterval(updatePong, 1000/60);
        }

        function updatePong() {
            const canvas = document.getElementById('pongCanvas');
            const ctx = canvas.getContext('2d');
            
            pongBall.x += pongBall.dx;
            pongBall.y += pongBall.dy;
            
            if (pongBall.x - pongBall.radius < 0 || pongBall.x + pongBall.radius > canvas.width) {
                pongBall.dx = -pongBall.dx;
            }
            
            if (pongBall.y - pongBall.radius < 0) {
                pongBall.dy = -pongBall.dy;
            }
            
            if (pongBall.y + pongBall.radius > pongPaddle.y &&
                pongBall.x > pongPaddle.x && pongBall.x < pongPaddle.x + pongPaddle.width) {
                pongBall.dy = -pongBall.dy;
                pongScore += 10;
                document.getElementById('pongScore').textContent = pongScore;
                pongBall.dx *= 1.05;
                pongBall.dy *= 1.05;
            }
            
            if (pongBall.y - pongBall.radius > canvas.height) {
                clearInterval(pongInterval);
                alert('Game Over! Puntuaci√≥n: ' + pongScore);
                return;
            }
            
            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#667eea';
            ctx.fillRect(pongPaddle.x, pongPaddle.y, pongPaddle.width, pongPaddle.height);
            
            ctx.fillStyle = '#ff6b6b';
            ctx.beginPath();
            ctx.arc(pongBall.x, pongBall.y, pongBall.radius, 0, Math.PI * 2);
            ctx.fill();
        }

        // ========== FLAPPY BIRD GAME ==========
        let flappyBird, flappyPipes, flappyScore, flappyInterval, flappyGameOver;

        function startFlappy() {
            resetFlappy();
        }

        function resetFlappy() {
            const canvas = document.getElementById('flappyCanvas');
            flappyBird = {y: 200, velocity: 0, radius: 12};
            flappyPipes = [];
            flappyScore = 0;
            flappyGameOver = false;
            document.getElementById('flappyScore').textContent = flappyScore;
            
            canvas.onclick = () => {
                if (!flappyGameOver) {
                    flappyBird.velocity = -6;
                }
            };
            
            if (flappyInterval) clearInterval(flappyInterval);
            flappyInterval = setInterval(updateFlappy, 1000/60);
        }

        function updateFlappy() {
            const canvas = document.getElementById('flappyCanvas');
            const ctx = canvas.getContext('2d');
            
            if (flappyGameOver) return;
            
            flappyBird.velocity += 0.4;
            flappyBird.y += flappyBird.velocity;
            
            if (Math.random() < 0.01) {
                const gap = 120;
                const minY = 50;
                const maxY = canvas.height - gap - 50;
                const topHeight = minY + Math.random() * (maxY - minY);
                
                flappyPipes.push({
                    x: canvas.width,
                    topHeight: topHeight,
                    bottomY: topHeight + gap,
                    scored: false
                });
            }
            
            flappyPipes = flappyPipes.filter(pipe => {
                pipe.x -= 2;
                
                if (!pipe.scored && pipe.x + 50 < 50) {
                    flappyScore++;
                    document.getElementById('flappyScore').textContent = flappyScore;
                    pipe.scored = true;
                }
                
                if (50 + flappyBird.radius > pipe.x && 50 - flappyBird.radius < pipe.x + 50) {
                    if (flappyBird.y - flappyBird.radius < pipe.topHeight ||
                        flappyBird.y + flappyBird.radius > pipe.bottomY) {
                        flappyGameOver = true;
                        clearInterval(flappyInterval);
                        alert('Game Over! Puntuaci√≥n: ' + flappyScore);
                    }
                }
                
                return pipe.x > -50;
            });
            
            if (flappyBird.y - flappyBird.radius < 0 || 
                flappyBird.y + flappyBird.radius > canvas.height) {
                flappyGameOver = true;
                clearInterval(flappyInterval);
                alert('Game Over! Puntuaci√≥n: ' + flappyScore);
            }
            
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#51cf66';
            flappyPipes.forEach(pipe => {
                ctx.fillRect(pipe.x, 0, 50, pipe.topHeight);
                ctx.fillRect(pipe.x, pipe.bottomY, 50, canvas.height - pipe.bottomY);
            });
            
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(50, flappyBird.y, flappyBird.radius, 0, Math.PI * 2);
            ctx.fill();
        }
    </script>
</body>
</html>